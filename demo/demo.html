
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
</head>
<title>Google Cloud Vision API Wrapper</title>
<body>
<!--JSON整形-->
<script src="./json.human.js"></script>
<script>
    function sendRequest() {
        console.log("send request start");
        var url = document.getElementById("appurl").value;
        var imageUrl = document.getElementById("imageurl").value;
        console.log("url:" + url);
        console.log("imageUrl:" + imageUrl);

        var radioList = document.getElementsByName("type");
        var type = "選択されていません";
        for(var i=0; i<radioList.length; i++) {
            if (radioList[i].checked) {
                type = radioList[i].id;
                break;
            }
        }
        console.log("type:" + type);


        //リクエストの送信結果のコールバック
        window.callback = function(result) {
            console.log(result);
            //処理結果の表示
            var srcImg = document.getElementById("srcimg");
            srcImg.src = imageUrl;

            //レスポンス情報の表示
            var response = document.getElementById("response");
            response.innerHTML = JSON.stringify(result);
            var node = JsonHuman.format(result);
            var responseTable = document.getElementsByClassName("response_table")[0];
            if (responseTable.hasChildNodes()) {
                responseTable.removeChild(responseTable.firstChild);
            }
            document.getElementsByClassName("response_table")[0].appendChild(node);

            //ランドマーク検索の場合はGoogleMapを表示
            var landmark = document.getElementById("landmark");
            var hasChild = landmark.hasChildNodes();
            if (type === "LANDMARK_DETECTION" && result !== null
                    && typeof (result.responses) !== "undefined" && result.responses.length > 0) {
                var latitude = result.responses[0].landmarkAnnotations[0].locations[0].latLng.latitude;
                var longitude = result.responses[0].landmarkAnnotations[0].locations[0].latLng.longitude;
                if (hasChild) {
                    landmark.removeChild(landmark.firstChild);
                }
                var iframe = document.createElement("iframe");
                iframe.src = "http://maps.google.co.jp/maps?q=loc:" + latitude + "," + longitude + "&output=embed&iwloc=J";
                iframe.width = 500;
                iframe.height = 500;
                landmark.appendChild(iframe);
            } else {
                if (hasChild) {
                    landmark.removeChild(landmark.firstChild);
                }
            }

            //顔認識の表示
            var canvasDiv = document.getElementsByClassName('face_canvas')[0];
            if (type === "FACE_DETECTION" && result !== null
                    && typeof (result.responses) !== "undefined" && result.responses.length > 0) {
                var canvasTag = document.createElement("canvas");
                canvasTag.id = "face";
                canvasTag.width = 500;
                canvasTag.height = 500;
                canvasDiv.appendChild(canvasTag);
                var canvas = document.getElementById('face');
                var context = canvas.getContext('2d');
                var drawLine = function (context, vertices) {
                    //新しいパスを開始する
                    context.beginPath();
                    //パスの開始座標を指定する
                    context.moveTo(vertices[0].x,vertices[0].y);
                    context.strokeStyle='#F3F781';
                    //座標を指定してラインを引いていく
                    context.lineTo(vertices[0].x,vertices[0].y);
                    context.lineTo(vertices[1].x,vertices[1].y);
                    context.lineTo(vertices[2].x,vertices[2].y);
                    context.lineTo(vertices[3].x,vertices[3].y);
                    //パスを閉じる（最後の座標から開始座標に向けてラインを引く）
                    context.closePath();
                    //現在のパスを輪郭表示する
                    context.stroke();
                };
                var annotations = result.responses[0].faceAnnotations;
                var img = new Image();
                img.src = imageUrl;
                context.drawImage(img, 0, 0);
                for(var i=0; i<annotations.length; i++) {
                    drawLine(context, annotations[i].boundingPoly.vertices);
                }
            } else {
                canvasDiv.removeChild(canvasDiv.firstChild);
            }
        }
        //リクエススト送信
        var requestUrl = url + "?url=" + imageUrl + "&type=" + type + "&cache=1&callback=callback";
        var script  = document.createElement("script");
        script.src = requestUrl;

        document.getElementsByTagName("head")[0].appendChild(script);

        //Local TEST CODE
//        var test = `{"responses":[{"labelAnnotations":[{"mid":"/m/013_1c","description":"statue","score":0.97574413},{"mid":"/m/01klb9","description":"plaza","score":0.87950039},{"mid":"/m/02ljgl","description":"monument","score":0.87448764},{"mid":"/m/06msq","description":"sculpture","score":0.81828362},{"mid":"/m/05_5t0l","description":"landmark","score":0.77707219},{"mid":"/m/0cgh4","description":"building","score":0.67513996},{"mid":"/m/02q3d5","description":"memorial","score":0.666837},{"mid":"/m/01l7t2","description":"downtown","score":0.60726035},{"mid":"/m/0dgsmq8","description":"artwork","score":0.549428},{"mid":"/m/0166ls","description":"park","score":0.54436022}]}]}`;
//        var test = `{"responses":[{"faceAnnotations":[{"boundingPoly":{"vertices":[{"x":380,"y":235},{"x":474,"y":235},{"x":474,"y":344},{"x":380,"y":344}]},"fdBoundingPoly":{"vertices":[{"x":394,"y":276},{"x":453,"y":276},{"x":453,"y":335},{"x":394,"y":335}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":408.40891,"y":294.1362,"z":0.00031182522}},{"type":"RIGHT_EYE","position":{"x":435.66052,"y":288.28174,"z":-4.5308409}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":397.58008,"y":289.5975,"z":2.8409543}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":412.89426,"y":287.73294,"z":-7.8263373}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":426.22363,"y":284.7308,"z":-10.073461}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":443.42392,"y":279.31024,"z":-4.8452883}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":420.99084,"y":292.05411,"z":-8.1439791}},{"type":"NOSE_TIP","position":{"x":424.24918,"y":309.46005,"z":-12.982129}},{"type":"UPPER_LIP","position":{"x":427.21863,"y":316.83133,"z":-4.6286211}},{"type":"LOWER_LIP","position":{"x":430.103,"y":327.23755,"z":-0.37084374}},{"type":"MOUTH_LEFT","position":{"x":418.05463,"y":321.61093,"z":5.671834}},{"type":"MOUTH_RIGHT","position":{"x":441.34341,"y":316.06805,"z":2.2013245}},{"type":"MOUTH_CENTER","position":{"x":428.81149,"y":321.62616,"z":-1.4910805}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":432.75772,"y":308.10992,"z":-3.2379096}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":418.91626,"y":311.37256,"z":-0.71753305}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":425.76868,"y":312.75189,"z":-5.7137952}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":407.43045,"y":293.09741,"z":-2.1524515}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":413.46466,"y":293.66321,"z":-0.6382162}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":408.39764,"y":296.26346,"z":0.23672314}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":402.98502,"y":295.23358,"z":3.554683}},{"type":"LEFT_EYE_PUPIL","position":{"x":407.59659,"y":294.78717,"z":-0.49550191}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":434.88547,"y":286.92422,"z":-6.7606034}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":441.33636,"y":286.61142,"z":-2.8770854}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":435.94833,"y":290.22226,"z":-4.3641949}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":430.14297,"y":289.79794,"z":-3.4331245}},{"type":"RIGHT_EYE_PUPIL","position":{"x":435.77975,"y":288.46552,"z":-5.2710357}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":404.06393,"y":285.83008,"z":-5.00325}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":433.85004,"y":279.12646,"z":-9.9990835}},{"type":"LEFT_EAR_TRAGION","position":{"x":398.04593,"y":303.622,"z":39.83923}},{"type":"RIGHT_EAR_TRAGION","position":{"x":460.35397,"y":289.61832,"z":29.35956}},{"type":"FOREHEAD_GLABELLA","position":{"x":419.34274,"y":286.15421,"z":-10.072186}},{"type":"CHIN_GNATHION","position":{"x":433.66541,"y":337.84506,"z":5.9488845}},{"type":"CHIN_LEFT_GONION","position":{"x":404.28793,"y":322.984,"z":31.72591}},{"type":"CHIN_RIGHT_GONION","position":{"x":460.56866,"y":310.29858,"z":22.264627}}],"rollAngle":-14.581324,"panAngle":-9.4920568,"tiltAngle":-11.422615,"detectionConfidence":0.85620391,"landmarkingConfidence":0.56829876,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"POSSIBLE"},{"boundingPoly":{"vertices":[{"x":500,"y":189},{"x":573,"y":189},{"x":573,"y":274},{"x":500,"y":274}]},"fdBoundingPoly":{"vertices":[{"x":508,"y":209},{"x":565,"y":209},{"x":565,"y":266},{"x":508,"y":266}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":516.41571,"y":238.21736,"z":0.00038631225}},{"type":"RIGHT_EYE","position":{"x":532.60858,"y":226.76549,"z":-8.1596851}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":508.34174,"y":238.11563,"z":5.081161}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":516.09796,"y":231.99481,"z":-5.8213706}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":524.10449,"y":226.3838,"z":-9.9163628}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":535.23071,"y":218.3662,"z":-9.1572962}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":522.96716,"y":232.596,"z":-8.3754034}},{"type":"NOSE_TIP","position":{"x":528.64117,"y":244.56374,"z":-15.046627}},{"type":"UPPER_LIP","position":{"x":534.59039,"y":250.15968,"z":-10.605323}},{"type":"LOWER_LIP","position":{"x":539.21082,"y":256.52896,"z":-9.4971514}},{"type":"MOUTH_LEFT","position":{"x":531.08185,"y":256.84747,"z":-1.7864698}},{"type":"MOUTH_RIGHT","position":{"x":544.99707,"y":246.92697,"z":-8.4718113}},{"type":"MOUTH_CENTER","position":{"x":536.64844,"y":252.76768,"z":-9.266387}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":536.81653,"y":241.50435,"z":-9.5237732}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":526.78271,"y":248.25731,"z":-4.75793}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":532.00537,"y":246.98439,"z":-10.496633}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":514.90118,"y":237.74561,"z":-1.1873677}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":519.62952,"y":236.50818,"z":-1.471597}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":516.86121,"y":239.52173,"z":-0.13525474}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":513.65869,"y":240.84634,"z":3.6766872}},{"type":"LEFT_EYE_PUPIL","position":{"x":515.80371,"y":239.048,"z":-0.21872944}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":531.70087,"y":225.63084,"z":-9.61039}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":537.054,"y":224.02623,"z":-8.0843906}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":533.614,"y":227.93457,"z":-8.527792}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":529.83038,"y":229.65703,"z":-6.5149403}},{"type":"RIGHT_EYE_PUPIL","position":{"x":533.05609,"y":226.63074,"z":-8.9150791}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":510.11578,"y":233.13261,"z":-1.5303476}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":528.32031,"y":219.99986,"z":-10.681804}},{"type":"LEFT_EAR_TRAGION","position":{"x":521.14709,"y":250.62543,"z":30.434851}},{"type":"RIGHT_EAR_TRAGION","position":{"x":559.56616,"y":223.56944,"z":11.337147}},{"type":"FOREHEAD_GLABELLA","position":{"x":519.75415,"y":228.98703,"z":-8.6087246}},{"type":"CHIN_GNATHION","position":{"x":545.98993,"y":264.28271,"z":-7.0239182}},{"type":"CHIN_LEFT_GONION","position":{"x":528.08331,"y":262.74149,"z":20.394705}},{"type":"CHIN_RIGHT_GONION","position":{"x":562.53711,"y":237.81032,"z":3.1348445}}],"rollAngle":-34.69009,"panAngle":-22.131905,"tiltAngle":2.8155856,"detectionConfidence":0.90646219,"landmarkingConfidence":0.70717496,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":1023,"y":151},{"x":1088,"y":151},{"x":1088,"y":226},{"x":1023,"y":226}]},"fdBoundingPoly":{"vertices":[{"x":1033,"y":170},{"x":1083,"y":170},{"x":1083,"y":220},{"x":1033,"y":220}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":1042.8658,"y":191.00824,"z":0.00015137394}},{"type":"RIGHT_EYE","position":{"x":1060.9938,"y":184.3123,"z":-1.9091038}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":1035.1914,"y":188.69321,"z":2.0231926}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":1045.6425,"y":185.34428,"z":-4.7004557}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":1054.4493,"y":181.93317,"z":-5.6564465}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":1065.6648,"y":177.57135,"z":-1.1921462}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":1051.4835,"y":187.27548,"z":-5.1145525}},{"type":"NOSE_TIP","position":{"x":1055.1825,"y":199.31346,"z":-9.804121}},{"type":"UPPER_LIP","position":{"x":1057.7427,"y":204.40489,"z":-4.6526408}},{"type":"LOWER_LIP","position":{"x":1060.2113,"y":210.96111,"z":-2.6010678}},{"type":"MOUTH_LEFT","position":{"x":1051.069,"y":209.32877,"z":1.8314775}},{"type":"MOUTH_RIGHT","position":{"x":1066.7388,"y":203.58403,"z":0.25931311}},{"type":"MOUTH_CENTER","position":{"x":1058.8813,"y":207.54417,"z":-2.8919494}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":1061.5117,"y":197.56793,"z":-2.6162872}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":1050.2892,"y":201.53975,"z":-1.4292225}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":1056.6293,"y":201.652,"z":-5.0121965}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":1042.2561,"y":189.88165,"z":-1.4334644}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":1046.4031,"y":189.97763,"z":-0.28242108}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":1043.1638,"y":192.19638,"z":-0.055225376}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":1039.3019,"y":192.16161,"z":2.1623659}},{"type":"LEFT_EYE_PUPIL","position":{"x":1042.4723,"y":191.14182,"z":-0.476017}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":1060.5367,"y":183.26051,"z":-3.3473098}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":1064.7255,"y":183.03848,"z":-0.55078322}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":1061.6127,"y":185.32086,"z":-1.9789963}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":1057.9004,"y":185.72946,"z":-1.4420974}},{"type":"RIGHT_EYE_PUPIL","position":{"x":1061.2383,"y":184.34982,"z":-2.4650989}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":1039.4359,"y":184.9568,"z":-2.8390915}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":1059.2617,"y":177.77432,"z":-4.9214945}},{"type":"LEFT_EAR_TRAGION","position":{"x":1036.0208,"y":201.3233,"z":25.976236}},{"type":"RIGHT_EAR_TRAGION","position":{"x":1077.5447,"y":186.28136,"z":21.654215}},{"type":"FOREHEAD_GLABELLA","position":{"x":1049.9435,"y":183.59103,"z":-5.9237404}},{"type":"CHIN_GNATHION","position":{"x":1063.4187,"y":218.84338,"z":0.88171685}},{"type":"CHIN_LEFT_GONION","position":{"x":1041.8661,"y":213.20636,"z":18.996868}},{"type":"CHIN_RIGHT_GONION","position":{"x":1079.3787,"y":199.60527,"z":15.068228}}],"rollAngle":-20.416523,"panAngle":-5.6419611,"tiltAngle":-5.0368996,"detectionConfidence":0.83396244,"landmarkingConfidence":0.62348205,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":222,"y":257},{"x":310,"y":257},{"x":310,"y":360},{"x":222,"y":360}]},"fdBoundingPoly":{"vertices":[{"x":232,"y":289},{"x":300,"y":289},{"x":300,"y":356},{"x":232,"y":356}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":253.16246,"y":310.73154,"z":-0.0004930619}},{"type":"RIGHT_EYE","position":{"x":280.93469,"y":309.86191,"z":0.78414249}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":244.47557,"y":304.67831,"z":0.628972}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":260.17593,"y":305.31482,"z":-6.4991064}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":273.5939,"y":305.00925,"z":-6.1119146}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":288.91183,"y":302.94089,"z":1.8329287}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":267.14346,"y":310.68015,"z":-5.3067188}},{"type":"NOSE_TIP","position":{"x":267.80542,"y":328.01752,"z":-8.9331722}},{"type":"UPPER_LIP","position":{"x":267.9567,"y":334.77063,"z":-0.67881644}},{"type":"LOWER_LIP","position":{"x":267.93542,"y":343.77975,"z":3.5857406}},{"type":"MOUTH_LEFT","position":{"x":257.02133,"y":337.75284,"z":7.2013755}},{"type":"MOUTH_RIGHT","position":{"x":280.20023,"y":335.74686,"z":8.1015978}},{"type":"MOUTH_CENTER","position":{"x":267.89832,"y":339.2374,"z":2.470372}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":275.59689,"y":327.71625,"z":1.9462123}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":260.55914,"y":328.61987,"z":1.4192263}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":267.86673,"y":331.18292,"z":-1.8763583}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":253.66301,"y":309.73581,"z":-2.16401}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":258.13971,"y":311.59732,"z":0.43845341}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":252.89293,"y":312.54034,"z":0.25796345}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":247.96356,"y":310.75815,"z":2.3734424}},{"type":"LEFT_EYE_PUPIL","position":{"x":253.27229,"y":311.26627,"z":-0.63288718}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":280.30453,"y":308.67978,"z":-1.4439363}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":285.5462,"y":309.30023,"z":3.3241432}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":281.13602,"y":311.64517,"z":1.017293}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":275.49551,"y":310.97302,"z":0.87317908}},{"type":"RIGHT_EYE_PUPIL","position":{"x":280.61075,"y":310.19766,"z":0.074677527}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":252.37036,"y":302.58298,"z":-5.4489589}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":281.22913,"y":301.42865,"z":-4.657948}},{"type":"LEFT_EAR_TRAGION","position":{"x":235.97568,"y":316.1604,"z":34.753513}},{"type":"RIGHT_EAR_TRAGION","position":{"x":296.40375,"y":313.75922,"z":36.317383}},{"type":"FOREHEAD_GLABELLA","position":{"x":266.99738,"y":305.54086,"z":-7.3125415}},{"type":"CHIN_GNATHION","position":{"x":268.48636,"y":354.70563,"z":10.251081}},{"type":"CHIN_LEFT_GONION","position":{"x":239.88156,"y":335.231,"z":28.561272}},{"type":"CHIN_RIGHT_GONION","position":{"x":294.42038,"y":333.08069,"z":30.038918}}],"rollAngle":-1.892211,"panAngle":1.5984684,"tiltAngle":-14.433992,"detectionConfidence":0.99999249,"landmarkingConfidence":0.70710915,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":640,"y":154},{"x":696,"y":154},{"x":696,"y":219},{"x":640,"y":219}]},"fdBoundingPoly":{"vertices":[{"x":638,"y":170},{"x":688,"y":170},{"x":688,"y":220},{"x":638,"y":220}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":655.376,"y":186.0977,"z":-0.000057769197}},{"type":"RIGHT_EYE","position":{"x":670.03461,"y":185.72028,"z":-5.3444681}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":649.39325,"y":182.13751,"z":3.2414773}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":657.72284,"y":182.63058,"z":-4.7376962}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":664.96191,"y":182.18233,"z":-7.5353451}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":676.23248,"y":181.52989,"z":-6.3055768}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":661.49963,"y":185.64648,"z":-6.0175104}},{"type":"NOSE_TIP","position":{"x":660.105,"y":196.32343,"z":-9.7466812}},{"type":"UPPER_LIP","position":{"x":661.90973,"y":201.7562,"z":-5.375526}},{"type":"LOWER_LIP","position":{"x":662.82855,"y":207.70183,"z":-3.5823145}},{"type":"MOUTH_LEFT","position":{"x":656.81506,"y":203.57112,"z":1.6013955}},{"type":"MOUTH_RIGHT","position":{"x":670.12335,"y":203.42319,"z":-3.0328984}},{"type":"MOUTH_CENTER","position":{"x":662.60388,"y":204.18118,"z":-3.9025736}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":666.427,"y":197.14597,"z":-4.993907}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":658.17004,"y":197.30273,"z":-1.8840979}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":661.65851,"y":198.74194,"z":-5.7544165}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":654.06323,"y":185.15114,"z":-0.93165046}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":657.79,"y":186.41756,"z":-0.81879836}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":654.7157,"y":187.274,"z":0.2074914}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":651.82587,"y":186.15048,"z":2.853205}},{"type":"LEFT_EYE_PUPIL","position":{"x":654.09119,"y":186.252,"z":-0.02763145}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":670.11487,"y":184.78769,"z":-6.6470571}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":674.24731,"y":185.6371,"z":-5.1237035}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":670.21252,"y":186.85043,"z":-5.4707007}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":667.04785,"y":186.15034,"z":-4.2086792}},{"type":"RIGHT_EYE_PUPIL","position":{"x":670.56671,"y":185.88141,"z":-5.9290881}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":652.7998,"y":180.3381,"z":-1.9886891}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":670.2226,"y":179.94165,"z":-8.1956139}},{"type":"LEFT_EAR_TRAGION","position":{"x":651.71887,"y":192.39273,"z":24.445305}},{"type":"RIGHT_EAR_TRAGION","position":{"x":688.2229,"y":191.55125,"z":11.471162}},{"type":"FOREHEAD_GLABELLA","position":{"x":660.97272,"y":182.18567,"z":-6.7487974}},{"type":"CHIN_GNATHION","position":{"x":663.9234,"y":215.13133,"z":-0.5583393}},{"type":"CHIN_LEFT_GONION","position":{"x":651.79437,"y":204.02991,"z":18.408043}},{"type":"CHIN_RIGHT_GONION","position":{"x":684.80927,"y":203.27818,"z":6.6608806}}],"rollAngle":-3.335403,"panAngle":-19.679079,"tiltAngle":-5.6691508,"detectionConfidence":0.61676395,"landmarkingConfidence":0.51316893,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":994,"y":268},{"x":1094,"y":268},{"x":1094,"y":385},{"x":994,"y":385}]},"fdBoundingPoly":{"vertices":[{"x":1000,"y":301},{"x":1078,"y":301},{"x":1078,"y":379},{"x":1000,"y":379}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":1030.4561,"y":321.87939,"z":-0.000041117797}},{"type":"RIGHT_EYE","position":{"x":1060.0051,"y":333.94928,"z":-2.6380086}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":1024.5459,"y":311.02432,"z":1.9122103}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":1039.8533,"y":319.60358,"z":-8.2039661}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":1053.2769,"y":325.38513,"z":-9.3925915}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":1071.0605,"y":331.21304,"z":-2.270354}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":1044.4602,"y":327.94965,"z":-7.8310509}},{"type":"NOSE_TIP","position":{"x":1035.9818,"y":345.85858,"z":-12.204272}},{"type":"UPPER_LIP","position":{"x":1033.3306,"y":353.22797,"z":-2.946125}},{"type":"LOWER_LIP","position":{"x":1029.2798,"y":363.63687,"z":1.9998487}},{"type":"MOUTH_LEFT","position":{"x":1019.8759,"y":348.91446,"z":7.8766346}},{"type":"MOUTH_RIGHT","position":{"x":1047.3195,"y":360.50302,"z":5.7605991}},{"type":"MOUTH_CENTER","position":{"x":1031.4103,"y":358.39279,"z":0.61714238}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":1045.7719,"y":349.58917,"z":-0.74402416}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":1028.0959,"y":341.863,"z":0.74274367}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":1034.9785,"y":349.19702,"z":-4.273149}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":1031.407,"y":320.37506,"z":-2.6206212}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":1035.4459,"y":324.84418,"z":-0.29440731}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":1029.5688,"y":323.42078,"z":0.13408901}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":1025.4135,"y":319.03857,"z":3.2425172}},{"type":"LEFT_EYE_PUPIL","position":{"x":1030.385,"y":321.82214,"z":-0.91897166}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":1059.0854,"y":332.55475,"z":-5.0289578}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":1064.6517,"y":336.08374,"z":-0.27714604}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":1059.4103,"y":335.78879,"z":-2.3754241}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":1054.0745,"y":332.30508,"z":-1.858492}},{"type":"RIGHT_EYE_PUPIL","position":{"x":1058.7936,"y":334.31531,"z":-3.4305086}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":1033.2775,"y":312.23706,"z":-6.1150045}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":1063.2439,"y":325.44116,"z":-8.7359171}},{"type":"LEFT_EAR_TRAGION","position":{"x":1014.1143,"y":320.46103,"z":41.255665}},{"type":"RIGHT_EAR_TRAGION","position":{"x":1076.905,"y":348.14676,"z":35.790329}},{"type":"FOREHEAD_GLABELLA","position":{"x":1046.4705,"y":322.40637,"z":-10.041554}},{"type":"CHIN_GNATHION","position":{"x":1025.2048,"y":374.42896,"z":9.0503922}},{"type":"CHIN_LEFT_GONION","position":{"x":1007.8815,"y":341.42969,"z":33.619717}},{"type":"CHIN_RIGHT_GONION","position":{"x":1064.5304,"y":366.3873,"z":28.670479}}],"rollAngle":22.670744,"panAngle":-4.697681,"tiltAngle":-13.62446,"detectionConfidence":0.99953425,"landmarkingConfidence":0.68720782,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":737,"y":198},{"x":804,"y":198},{"x":804,"y":276},{"x":737,"y":276}]},"fdBoundingPoly":{"vertices":[{"x":744,"y":218},{"x":798,"y":218},{"x":798,"y":272},{"x":744,"y":272}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":763.5094,"y":234.59659,"z":-0.000023542218}},{"type":"RIGHT_EYE","position":{"x":784.38617,"y":237.07602,"z":1.9991955}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":758.03479,"y":228.55751,"z":0.63978332}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":770.12213,"y":231.09344,"z":-3.8986535}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":779.89917,"y":232.30273,"z":-2.9668484}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":791.23627,"y":233.22563,"z":3.9612217}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":774.48883,"y":235.90627,"z":-3.2556736}},{"type":"NOSE_TIP","position":{"x":773.61621,"y":247.80215,"z":-7.8274031}},{"type":"UPPER_LIP","position":{"x":771.88135,"y":254.65135,"z":-2.337126}},{"type":"LOWER_LIP","position":{"x":770.77173,"y":261.36496,"z":-0.089536212}},{"type":"MOUTH_LEFT","position":{"x":762.94684,"y":255.64691,"z":2.6834879}},{"type":"MOUTH_RIGHT","position":{"x":779.02246,"y":257.875,"z":4.2056494}},{"type":"MOUTH_CENTER","position":{"x":771.45874,"y":257.41498,"z":-0.49793789}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":777.93445,"y":249.32701,"z":0.58955485}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":767.3526,"y":248.26675,"z":-0.53187609}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":772.5957,"y":250.7919,"z":-2.8646915}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":764.34,"y":233.41974,"z":-1.4781849}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":767.26923,"y":235.66167,"z":0.55414057}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":763.15247,"y":235.98802,"z":0.036811966}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":759.8667,"y":233.92291,"z":1.5011435}},{"type":"LEFT_EYE_PUPIL","position":{"x":763.7583,"y":234.65005,"z":-0.48919052}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":784.33661,"y":236.071,"z":0.4812842}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":787.83435,"y":237.6288,"z":4.2274494}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":784.08844,"y":238.41417,"z":1.9701856}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":780.55243,"y":236.893,"z":1.7366771}},{"type":"RIGHT_EYE_PUPIL","position":{"x":784.27716,"y":237.36563,"z":1.496659}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":764.44312,"y":227.62724,"z":-3.2169297}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":786.10455,"y":230.51247,"z":-1.0934789}},{"type":"LEFT_EAR_TRAGION","position":{"x":747.931,"y":239.64142,"z":24.626249}},{"type":"RIGHT_EAR_TRAGION","position":{"x":793.272,"y":245.63762,"z":29.055931}},{"type":"FOREHEAD_GLABELLA","position":{"x":775.154,"y":231.50923,"z":-4.22824}},{"type":"CHIN_GNATHION","position":{"x":769.24915,"y":269.97028,"z":3.7710373}},{"type":"CHIN_LEFT_GONION","position":{"x":748.96313,"y":253.67809,"z":18.127348}},{"type":"CHIN_RIGHT_GONION","position":{"x":789.92426,"y":259.12607,"z":22.143139}}],"rollAngle":8.198308,"panAngle":5.5874639,"tiltAngle":-6.3691397,"detectionConfidence":0.99924982,"landmarkingConfidence":0.6691888,"joyLikelihood":"LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":921,"y":175},{"x":991,"y":175},{"x":991,"y":256},{"x":921,"y":256}]},"fdBoundingPoly":{"vertices":[{"x":929,"y":193},{"x":985,"y":193},{"x":985,"y":249},{"x":929,"y":249}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":937.60162,"y":219.87099,"z":0.00024626427}},{"type":"RIGHT_EYE","position":{"x":956.46924,"y":209.80872,"z":-6.5380955}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":930.26874,"y":218.29776,"z":4.2708044}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":938.90454,"y":213.05032,"z":-5.21667}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":947.81152,"y":208.44853,"z":-8.2347927}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":960.00684,"y":202.40645,"z":-6.1528592}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":944.73303,"y":214.25732,"z":-7.3733134}},{"type":"NOSE_TIP","position":{"x":948.74158,"y":226.24829,"z":-14.190079}},{"type":"UPPER_LIP","position":{"x":953.12219,"y":231.98717,"z":-10.055437}},{"type":"LOWER_LIP","position":{"x":957.35327,"y":239.1096,"z":-9.1215448}},{"type":"MOUTH_LEFT","position":{"x":948.58752,"y":238.31233,"z":-2.0316494}},{"type":"MOUTH_RIGHT","position":{"x":964.24536,"y":230.38503,"z":-7.1819544}},{"type":"MOUTH_CENTER","position":{"x":955.05737,"y":234.99539,"z":-8.80807}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":956.83929,"y":224.28661,"z":-8.2549868}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":946.5863,"y":229.67314,"z":-4.6600337}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":951.60553,"y":228.75909,"z":-9.7980833}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":936.7583,"y":218.49875,"z":-1.3249526}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":941.11523,"y":218.39497,"z":-1.1767036}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":938.07849,"y":221.07121,"z":-0.30984128}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":934.919,"y":221.49469,"z":3.0261495}},{"type":"LEFT_EYE_PUPIL","position":{"x":937.38165,"y":219.86432,"z":-0.49778104}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":954.49475,"y":209.04353,"z":-7.5807428}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":959.76776,"y":208.27989,"z":-5.7401376}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":956.94495,"y":210.97025,"z":-6.6366906}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":952.81519,"y":212.08284,"z":-5.0619593}},{"type":"RIGHT_EYE_PUPIL","position":{"x":955.57385,"y":210.17023,"z":-6.9375339}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":932.93463,"y":213.51019,"z":-1.6094929}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":952.1474,"y":203.27435,"z":-8.4029264}},{"type":"LEFT_EAR_TRAGION","position":{"x":938.97064,"y":233.02942,"z":27.872234}},{"type":"RIGHT_EAR_TRAGION","position":{"x":979.22894,"y":211.59798,"z":13.655991}},{"type":"FOREHEAD_GLABELLA","position":{"x":942.82184,"y":210.57706,"z":-7.4890909}},{"type":"CHIN_GNATHION","position":{"x":962.35181,"y":246.88361,"z":-7.039247}},{"type":"CHIN_LEFT_GONION","position":{"x":944.39655,"y":244.53387,"z":18.010048}},{"type":"CHIN_RIGHT_GONION","position":{"x":980.71228,"y":225.19128,"z":5.1785812}}],"rollAngle":-26.708065,"panAngle":-17.362564,"tiltAngle":4.3687072,"detectionConfidence":0.932433,"landmarkingConfidence":0.706807,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":1085,"y":171},{"x":1152,"y":171},{"x":1152,"y":249},{"x":1085,"y":249}]},"fdBoundingPoly":{"vertices":[{"x":1088,"y":195},{"x":1143,"y":195},{"x":1143,"y":249},{"x":1088,"y":249}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":1100.8604,"y":218.70837,"z":0.00011993021}},{"type":"RIGHT_EYE","position":{"x":1119.1105,"y":208.28891,"z":-7.6034474}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":1094.0131,"y":217.08215,"z":3.2918363}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":1102.2762,"y":213.02594,"z":-6.349297}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":1109.9938,"y":208.24066,"z":-9.8184328}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":1121.6053,"y":200.58669,"z":-8.4653959}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":1108.2441,"y":213.62289,"z":-7.8880496}},{"type":"NOSE_TIP","position":{"x":1113.1897,"y":225.43353,"z":-11.808709}},{"type":"UPPER_LIP","position":{"x":1118.1238,"y":230.20935,"z":-6.5616884}},{"type":"LOWER_LIP","position":{"x":1122.6327,"y":235.63026,"z":-4.2484264}},{"type":"MOUTH_LEFT","position":{"x":1114.3082,"y":234.86636,"z":1.916522}},{"type":"MOUTH_RIGHT","position":{"x":1128.4917,"y":226.54364,"z":-3.7467024}},{"type":"MOUTH_CENTER","position":{"x":1120.632,"y":232.53365,"z":-4.6911206}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":1120.9653,"y":222.17931,"z":-6.2985535}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":1110.7158,"y":227.47971,"z":-2.1513081}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":1116.298,"y":227.47432,"z":-7.0813327}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":1100.5488,"y":217.63156,"z":-1.7031689}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":1104.2249,"y":217.20865,"z":-1.3841891}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":1101.4797,"y":219.84001,"z":-0.14295414}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":1098.8297,"y":219.80322,"z":2.9318593}},{"type":"LEFT_EYE_PUPIL","position":{"x":1101.2325,"y":218.66779,"z":-0.63769025}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":1116.874,"y":207.98431,"z":-8.7864256}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":1121.9019,"y":206.28937,"z":-6.985652}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":1119.6855,"y":209.2634,"z":-7.3758864}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":1115.6859,"y":210.65378,"z":-5.8636622}},{"type":"RIGHT_EYE_PUPIL","position":{"x":1117.9705,"y":208.80089,"z":-7.9317231}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":1096.4246,"y":213.43114,"z":-3.1077008}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":1114.075,"y":202.98912,"z":-10.78974}},{"type":"LEFT_EAR_TRAGION","position":{"x":1102.3986,"y":225.30602,"z":28.717056}},{"type":"RIGHT_EAR_TRAGION","position":{"x":1139.3898,"y":203.42787,"z":12.612939}},{"type":"FOREHEAD_GLABELLA","position":{"x":1105.8955,"y":210.69745,"z":-8.8311567}},{"type":"CHIN_GNATHION","position":{"x":1128.2073,"y":242.29068,"z":-0.48850507}},{"type":"CHIN_LEFT_GONION","position":{"x":1109.3483,"y":237.31595,"z":21.942736}},{"type":"CHIN_RIGHT_GONION","position":{"x":1142.7251,"y":217.58336,"z":7.4297509}}],"rollAngle":-33.349861,"panAngle":-20.686876,"tiltAngle":-7.32929,"detectionConfidence":0.71605563,"landmarkingConfidence":0.61183769,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"},{"boundingPoly":{"vertices":[{"x":294,"y":238},{"x":368,"y":238},{"x":368,"y":324},{"x":294,"y":324}]},"fdBoundingPoly":{"vertices":[{"x":303,"y":265},{"x":358,"y":265},{"x":358,"y":320},{"x":303,"y":320}]},"landmarks":[{"type":"LEFT_EYE","position":{"x":315.54446,"y":284.40973,"z":0.00027371696}},{"type":"RIGHT_EYE","position":{"x":337.28833,"y":280.48584,"z":-4.111146}},{"type":"LEFT_OF_LEFT_EYEBROW","position":{"x":307.55502,"y":280.36972,"z":2.4407685}},{"type":"RIGHT_OF_LEFT_EYEBROW","position":{"x":319.37476,"y":279.30331,"z":-6.2341933}},{"type":"LEFT_OF_RIGHT_EYEBROW","position":{"x":329.80341,"y":277.10706,"z":-8.27287}},{"type":"RIGHT_OF_RIGHT_EYEBROW","position":{"x":343.56897,"y":273.78323,"z":-4.4164519}},{"type":"MIDPOINT_BETWEEN_EYES","position":{"x":325.51785,"y":282.93576,"z":-6.7077889}},{"type":"NOSE_TIP","position":{"x":327.29163,"y":296.44785,"z":-10.705661}},{"type":"UPPER_LIP","position":{"x":329.45923,"y":302.79523,"z":-4.3064504}},{"type":"LOWER_LIP","position":{"x":331.62592,"y":310.37695,"z":-1.2332542}},{"type":"MOUTH_LEFT","position":{"x":320.73923,"y":306.08676,"z":4.3544788}},{"type":"MOUTH_RIGHT","position":{"x":342.49902,"y":302.67322,"z":1.0338575}},{"type":"MOUTH_CENTER","position":{"x":330.53119,"y":306.23465,"z":-1.9799448}},{"type":"NOSE_BOTTOM_RIGHT","position":{"x":335.33047,"y":295.48816,"z":-3.1377857}},{"type":"NOSE_BOTTOM_LEFT","position":{"x":322.54181,"y":297.75195,"z":-0.809025}},{"type":"NOSE_BOTTOM_CENTER","position":{"x":328.78146,"y":299.16675,"z":-5.1040072}},{"type":"LEFT_EYE_TOP_BOUNDARY","position":{"x":315.04684,"y":283.37375,"z":-1.7447832}},{"type":"LEFT_EYE_RIGHT_CORNER","position":{"x":319.18738,"y":284.02679,"z":-0.62514925}},{"type":"LEFT_EYE_BOTTOM_BOUNDARY","position":{"x":315.78412,"y":285.914,"z":0.069731891}},{"type":"LEFT_EYE_LEFT_CORNER","position":{"x":311.61069,"y":284.945,"z":2.8084431}},{"type":"LEFT_EYE_PUPIL","position":{"x":315.146,"y":284.70786,"z":-0.51999521}},{"type":"RIGHT_EYE_TOP_BOUNDARY","position":{"x":336.59543,"y":279.43027,"z":-5.8418636}},{"type":"RIGHT_EYE_RIGHT_CORNER","position":{"x":341.76868,"y":279.44464,"z":-2.9194527}},{"type":"RIGHT_EYE_BOTTOM_BOUNDARY","position":{"x":337.69354,"y":281.80576,"z":-4.04065}},{"type":"RIGHT_EYE_LEFT_CORNER","position":{"x":333.39069,"y":281.87766,"z":-3.1420217}},{"type":"RIGHT_EYE_PUPIL","position":{"x":337.2774,"y":280.67606,"z":-4.7587695}},{"type":"LEFT_EYEBROW_UPPER_MIDPOINT","position":{"x":312.59824,"y":277.53949,"z":-3.8517489}},{"type":"RIGHT_EYEBROW_UPPER_MIDPOINT","position":{"x":335.96912,"y":273.2562,"z":-8.3001575}},{"type":"LEFT_EAR_TRAGION","position":{"x":308.18451,"y":291.64209,"z":31.234304}},{"type":"RIGHT_EAR_TRAGION","position":{"x":357.14484,"y":282.67191,"z":21.916286}},{"type":"FOREHEAD_GLABELLA","position":{"x":324.41364,"y":278.25146,"z":-8.1283522}},{"type":"CHIN_GNATHION","position":{"x":334.1409,"y":319.22336,"z":3.5255148}},{"type":"CHIN_LEFT_GONION","position":{"x":312.24323,"y":306.81976,"z":24.577469}},{"type":"CHIN_RIGHT_GONION","position":{"x":356.43777,"y":298.73569,"z":16.171066}}],"rollAngle":-12.34526,"panAngle":-10.772186,"tiltAngle":-10.364882,"detectionConfidence":0.9690634,"landmarkingConfidence":0.56565475,"joyLikelihood":"VERY_LIKELY","sorrowLikelihood":"VERY_UNLIKELY","angerLikelihood":"VERY_UNLIKELY","surpriseLikelihood":"VERY_UNLIKELY","underExposedLikelihood":"VERY_UNLIKELY","blurredLikelihood":"VERY_UNLIKELY","headwearLikelihood":"VERY_UNLIKELY"}]}]}`;
//        window.callback(JSON.parse(test));



    };
</script>
<style>
    .navi_header {
        width : 100% ;
    }
    .url {
    }
    .url span {
        padding-right: 10px;
    }
    .button {
        width: 200px;
        height: 40px;
        text-align: center;
    }
    .typeradio {
        width:400px;
        margin:10px;
    }
    .navi {
        float : left;
        width : 400px;
    }
    .result {
        width: 500px;
        float : left;
    }
    .result span {
        padding-right: 10px;
    }
    .result textarea {
        width: 500px;
        line-height: 1.5em;
        height: 20em;
    }
    .srcimg {
        width: 300px;
    }
    .response_table {

    }
    .jh-type-object {
        border: solid 1px #000000;
    }
    .jh-object-key {
        background-color: cornflowerblue;
    }
    .jh-array-key {
        background-color: lightcyan;
    }
    .jh-object-value {
        background-color: lightcyan;
        width: 300px;

    }

</style>
<h3>Google Cloud Vision API Wrapper</h3>
<div class="container">
    <div class="navi_header">
        <div class="url"><span>Google AppEngine URL:</span><br><input type="url" size="100" id="appurl" value=""/></div>
        <div class="url"><span>IMAGE URL:</span><br><input type="url" size="100" id="imageurl" value=""/></div>
    </div>
    <div class="navi">
    <span>API TYPE</span>
    <div class="typeradio"><input type="radio" name="type" id="LABEL_DETECTION"><label for="LABEL_DETECTION">画像コンテンツの認識 (ラベリング)</label></div>
    <div class="typeradio"><input type="radio" name="type" id="LANDMARK_DETECTION" checked><label for="LANDMARK_DETECTION">ランドマークの認識</label></div>
    <div class="typeradio"><input type="radio" name="type" id="FACE_DETECTION"><label for="FACE_DETECTION">顔認識</label></div>
    <div class="typeradio"><input type="radio" name="type" id="LOGO_DETECTION"><label for="LOGO_DETECTION">製品ロゴの認識</label></div>
    <div class="typeradio"><input type="radio" name="type" id="TEXT_DETECTION"><label for="TEXT_DETECTION">画像内テキストの認識 (OCR)</label></div>
    <div class="typeradio"><input type="radio" name="type" id="SAFE_SEARCH_DETECTION"><label for="SAFE_SEARCH_DETECTION">セーフサーチの判定</label></div>
    <div><button class="button" onclick="sendRequest();">実行</button></div>
    <span>指定した画像：<br></span>
    <img class="srcimg" id="srcimg" src="">
    </div>
    <div class="result">
        <div><span>レスポンスJSON：<br></span></div>
        <textarea id="response"></textarea><br>
        <div><span>ランドマーク指定時の地図：<br></span></div>
        <div id="landmark"></div>
        <div><span>顔認識：<br></span></div>
        <div class="face_canvas"><br></div>
        <span>レスポンス：<br></span>
        <div class="response_table"></div>
    </div>
</div>
</body>
</html>